<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Message | Agile - Bootstrap 4 Web Application</title>
  <meta name="description" content="Responsive, Bootstrap, BS4" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  
  <!-- style -->
  <!-- build:css ../assets/css/site.min.css -->
  <link rel="stylesheet" href="static/assets/css/bootstrap.css" type="text/css" />
  <link rel="stylesheet" href="static/assets/css/i-con.css" type="text/css" />
  <link rel="stylesheet" href="static/assets/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="static/assets/css/style.css" type="text/css" />
      <!-- jQuery文件。务必在bootstrap.min.js 之前引入 -->
	  <script src="static/vendors/jquery-1.9.1.min.js"></script>

  <!-- endbuild -->
  <script>
	  $(document).ready(function(){
		$("#searchbtn1", this).click(function(){
			$.get("/",
					{
						
					},
					function(data,status)
					{   
						location.href = "/UserDetail?SearchType=" + 101 + "&SearchVal=" + $("#search1").val();
					});       
		});

		$("#searchbtn2", this).click(function(){
			$.get("/",
					{
						
					},
					function(data,status)
					{   
						var month = $("#select01").find("option:selected").attr("value");
						var year = $("#select02").find("option:selected").attr("value");
						location.href = "/UserDetail?SearchType=" + 101 + "&SearchVal=" + $("#search1").val() + "&UserId=" + {{.UserId}} + "&Month=" + month + "&Year=" + year;
					});       
		});

		$("#exportbtn1", this).click(function(){
			$.get("/",
					{
						
					},
					function(data,status)
					{   
						var month = $("#select01").find("option:selected").attr("value");
						var year = $("#select02").find("option:selected").attr("value");
						location.href = "/UserDetail?SearchType=" + 101 + "&SearchVal=" + $("#search1").val() + "&UserId=" + {{.UserId}} + "&Month=" + month + "&Year=" + year + "&IsDownload=1";
					});       
		});

		$(".listBtn", this).click(function(){
			var id =$(this).attr("id");
			$.get("/",
					{
						
					},
					function(data,status)
					{   
						var month = $("#select01").find("option:selected").attr("value");
						var year = $("#select02").find("option:selected").attr("value");
						location.href = "/UserDetail?SearchType=" + 101 + "&SearchVal=" + $("#search1").val() + "&UserId=" + id + "&Month=" + month + "&Year=" + year;
					});       
		});
	});

</script>
</head>
<body class="layout-column">


<header id="header" class="page-header bg-white box-shadow animate fadeInDown">
  <div class="navbar navbar-expand-lg" >
    <!-- btn to toggle sidenav on small screen -->
    <a class="d-lg-none i-con-h-a px-1" data-toggle="modal" data-target="#aside">
      <i class="i-con i-con-menu text-muted"></i>
    </a>
    <!-- brand -->
    <a href="/" class="navbar-brand">
    	<svg fill="#a9a9a9" width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
    	    <path class="fill" d="M17.81 4.47c-.08 0-.16-.02-.23-.06C15.66 3.42 14 3 12.01 3c-1.98 0-3.86.47-5.57 1.41-.24.13-.54.04-.68-.2-.13-.24-.04-.55.2-.68C7.82 2.52 9.86 2 12.01 2c2.13 0 3.99.47 6.03 1.52.25.13.34.43.21.67-.09.18-.26.28-.44.28zM3.5 9.72c-.1 0-.2-.03-.29-.09-.23-.16-.28-.47-.12-.7.99-1.4 2.25-2.5 3.75-3.27C9.98 4.04 14 4.03 17.15 5.65c1.5.77 2.76 1.86 3.75 3.25.16.22.11.54-.12.7-.23.16-.54.11-.7-.12-.9-1.26-2.04-2.25-3.39-2.94-2.87-1.47-6.54-1.47-9.4.01-1.36.7-2.5 1.7-3.4 2.96-.08.14-.23.21-.39.21zm6.25 12.07c-.13 0-.26-.05-.35-.15-.87-.87-1.34-1.43-2.01-2.64-.69-1.23-1.05-2.73-1.05-4.34 0-2.97 2.54-5.39 5.66-5.39s5.66 2.42 5.66 5.39c0 .28-.22.5-.5.5s-.5-.22-.5-.5c0-2.42-2.09-4.39-4.66-4.39-2.57 0-4.66 1.97-4.66 4.39 0 1.44.32 2.77.93 3.85.64 1.15 1.08 1.64 1.85 2.42.19.2.19.51 0 .71-.11.1-.24.15-.37.15zm7.17-1.85c-1.19 0-2.24-.3-3.1-.89-1.49-1.01-2.38-2.65-2.38-4.39 0-.28.22-.5.5-.5s.5.22.5.5c0 1.41.72 2.74 1.94 3.56.71.48 1.54.71 2.54.71.24 0 .64-.03 1.04-.1.27-.05.53.13.58.41.05.27-.13.53-.41.58-.57.11-1.07.12-1.21.12zM14.91 22c-.04 0-.09-.01-.13-.02-1.59-.44-2.63-1.03-3.72-2.1-1.4-1.39-2.17-3.24-2.17-5.22 0-1.62 1.38-2.94 3.08-2.94 1.7 0 3.08 1.32 3.08 2.94 0 1.07.93 1.94 2.08 1.94s2.08-.87 2.08-1.94c0-3.77-3.25-6.83-7.25-6.83-2.84 0-5.44 1.58-6.61 4.03-.39.81-.59 1.76-.59 2.8 0 .78.07 2.01.67 3.61.1.26-.03.55-.29.64-.26.1-.55-.04-.64-.29-.49-1.31-.73-2.61-.73-3.96 0-1.2.23-2.29.68-3.24 1.33-2.79 4.28-4.6 7.51-4.6 4.55 0 8.25 3.51 8.25 7.83 0 1.62-1.38 2.94-3.08 2.94s-3.08-1.32-3.08-2.94c0-1.07-.93-1.94-2.08-1.94s-2.08.87-2.08 1.94c0 1.71.66 3.31 1.87 4.51.95.94 1.86 1.46 3.27 1.85.27.07.42.35.35.61-.05.23-.26.38-.47.38z"/>
    	    <path d="M0 0h24v24H0z" fill="none"/>
    	</svg>
    	<!-- <img src="../assets/img/logo.png" alt="..."> -->
    	<span class="hidden-folded d-inline l-s-n-1x ">DG</span>
    </a>
    <!-- / brand -->
  </div>
</header>
<div id="main" class="layout-row flex">

<!-- ############ LAYOUT START-->

	<!-- ############ Aside START-->
	<div id="aside" class="page-sidenav no-shrink  nav-expand  animate fadeInLeft fade" aria-hidden="true">
		<div class="sidenav h-100 modal-dialog bg-white box-shadow">
		  <!-- sidenav top -->
		  <!-- Flex nav content -->
		  <div class="flex scrollable hover">
		        <div class="nav-border b-primary" data-nav>
		          <ul class="nav bg">
		              <li class="nav-header hidden-folded">
		                <span>Main</span>
					  </li>
					  <li>
		                <a href="/" class="i-con-h-a">
		                  <span class="nav-icon">
		                    <i class="i-con i-con-home"><i></i></i>
		                  </span>
		                  <span class="nav-text">主页</span>
		                </a>
		              </li>
		              <li>
		                <a href="#" class="i-con-h-a">
		                  <span class="nav-icon">
		                    <i class="i-con i-con-user"><i></i></i>
		                  </span>
		                  <span class="nav-text">用户侧写</span>
		                </a>
		              </li>
		          </ul>
		        </div>
		  </div>
		  
		  <!-- sidenav bottom -->
		  <div class="no-shrink ">
		    <div class="text-sm p-3 b-t">
		    	<div class="hidden-folded text-sm">
		    		<!-- <div class="mt-1">
		    			<a href="index.html" class="text-muted">About</a>
		    			<a href="../docs/" class="text-muted mx-2 no-ajax" target="_blank">Documentation</a>
		    		</div> -->
		    		<div class="text-muted"><small class="text-muted">&copy; Copyright 2019, Kimi</small></div>
		    	</div>
		    </div>
		  </div>
		</div>
	</div>
	<!-- ############ Aside END-->

	<!-- ############ Content START-->
	<div id="content" class="flex ">
<!-- ############ Main START-->

<div class="d-flex h-100 padding" >
	<div class="d-flex flex h-100 block" >
		<div class="aside aside-sm" id="content-aside">
			<div class="d-flex flex-column w-xl b-r bg-white modal-dialog" id="chat-nav">
				<div class="navbar b-b">
		            <div class="input-group flex">
		              	<input id="search1" type="text" class="form-control px-0 no-bg no-border no-shadow search" placeholder="Search" required="" value="{{.SearchVal}}">
		              	<span class="input-group-append">
		                	<button id="searchbtn1" class="btn no-bg no-shadow i-con-h-a" type="button"><i class="i-con i-con-search w-16 text-muted"></i></button>
		              	</span>
		            </div>
				</div>
				<div class="scrollable hover">
					<div class="list list-row" >
						{{range .UserDatas}}
		      			    <div class="list-item listBtn" id={{.ID}}>
		      			        <div>
		      			          <span class="avatar-status away"></span>
		      			        </div>
		      			      <div class="flex">
		      			        <a class="item-author ">{{.Nickname}}</a>
		      			      </div>
		      			    </div>
						{{end}}  
		        	</div>
			    </div>
		    </div>
		</div>
		<div class="d-flex flex" id="content-body">
			<div class="d-flex flex-column flex" id="chat-list" data-plugin="chat">
				<div class="navbar flex-nowrap b-b">
				    <button data-toggle="modal" data-target="#content-aside" data-modal class="d-md-none btn btn-sm btn-icon no-bg">
						<span>
				      		<i class="i-con i-con-list text-muted"><i></i></i>
				        </span>
				    </button>
					{{if .UserName}}
						<span class="text-md text-ellipsis flex mx-1">
							{{.UserName}}
						</span>
					{{else}}
						<span class="text-md text-ellipsis flex mx-1">
							请选择用户
						</span>
					{{end}}	

			        <button data-toggle="modal" data-target="#content-aside-aside" data-modal class="d-xl-none btn btn-rounded btn-sm btn-icon no-bg">
						<span>
				      		<i class="i-con i-con-user text-muted"></i>
				        </span>
				    </button>
				</div>
		      	<!-- <div class="scrollable hover"> -->
					<!--详情-->
				<div class="table table-theme table-row v-middle padding">  
					<div class="row">
						<div class="form-group col-4">
							<label>请选择月份</label>
							<select id="select01" class="form-control col-4">
								{{if eq 0 .Month}}
								<option value="0" selected>全部</option>
								{{else}}
								<option value="0">全部</option>
								{{end}}
								{{if eq 1 .Month}}
								<option value="1" selected>一月</option>
								{{else}}
								<option value="1">一月</option>
								{{end}}
								{{if eq 2 .Month}}
								<option value="2" selected>二月</option>
								{{else}}
								<option value="2">二月</option>
								{{end}}
								{{if eq 3 .Month}}
								<option value="3" selected>三月</option>
								{{else}}
								<option value="3">三月</option>
								{{end}}
								{{if eq 4 .Month}}
								<option value="4" selected>四月</option>
								{{else}}
								<option value="4">四月</option>
								{{end}}
								{{if eq 5 .Year}}
								<option value="5" selected>五月</option>
								{{else}}
								<option value="5">五月</option>
								{{end}}
								{{if eq 6 .Month}}
								<option value="6" selected>六月</option>
								{{else}}
								<option value="6">六月</option>
								{{end}}
								{{if eq 7 .Month}}
								<option value="7" selected>七月</option>
								{{else}}
								<option value="7">七月</option>
								{{end}}
								{{if eq 8 .Month}}
								<option value="8" selected>八月</option>
								{{else}}
								<option value="8">八月</option>
								{{end}}
								{{if eq 9 .Month}}
								<option value="9" selected>九月</option>
								{{else}}
								<option value="9">九月</option>
								{{end}}
								{{if eq 10 .Month}}
								<option value="10" selected>十月</option>
								{{else}}
								<option value="10">十月</option>
								{{end}}
								{{if eq 11 .Month}}
								<option value="11" selected>十一月</option>
								{{else}}
								<option value="11">十一月</option>
								{{end}}
								{{if eq 12 .Month}}
								<option value="12" selected>十二月</option>
								{{else}}
								<option value="12">十二月</option>
								{{end}}
							</select>
						</div>   
						<div class="form-group col-4">
							<label>请选择年份</label>
							<select id="select02" class="form-control col-4">
								{{range .YearDatas}}
									{{if eq .Index $.Year}}
										<option value={{.Index}} selected>{{.Value}}</option>
									{{else}}
										<option value={{.Index}}>{{.Value}}</option>
									{{end}}
								{{end}}
							</select>
						</div>      
						<div class="form-group col-2">
							<button id="searchbtn2" class="btn w-sm mb-1 btn-outline-primary">搜索</button>
						</div>

						<div class="form-group col-2">
							<button id="exportbtn1" class="btn w-sm mb-1 btn-outline-primary">导出</button>
						</div>

					</div>   
									
						<table class="col-5"> 
							{{range $key, $val := .DetailDatas}}
							<thead >
								<tr>
									<td class="item-title text-color ">通道名:{{.CourseName}}
										{{range $ind, $elem := .CourseDatas}}
										<div class=" item-except text-muted">
											<div class="flex">
												{{$elem.Month}}月
											</div>
										<div>
										{{end}}

									</td>
									<td class="item-title text-color ">总提交数:{{.TotalNum}}

										{{range $ind, $elem := .CourseDatas}}
										<div class=" item-except text-muted">
											<div class="flex">
												提交:{{$elem.Num}}
											</div>
										<div>
										{{end}}
									</td>
									
									<!-- <td> -->
										<!-- {{range $ind, $elem := .CourseDatas}}
										<div class=" item-except text-muted">
											<div class="flex">
												{{$elem.Month}}月
											</div>
											<div class="flex">
												提交:{{$elem.Num}}
											</div>
										<div>
										{{end}}		 -->
									<!-- </div> -->
								</tr>
								
							</thead>
							
							{{end}}
						</table>
		      	</div>

			</div>
		</div>

		<div class="aside aside-lg aside-right padding" id="content-aside-aside">
			<div class="modal-dialog bg-white b-l">
				<table style="margin: 4em; margin-top: 10em;">
					<tr>
					<td class="item-title text-color flow-right">
						{{range $ind, $elem := $.MonthDatas}}
						<div>
							<div class="flex">
								{{$elem.Month}}月
							</div>
						<div>
						{{end}}
					</td>
					<td class="item-title text-color flow-right">
						{{range $ind, $elem := $.MonthDatas}}
						<div>
							<div class="flex">
								提交:{{$elem.Num}}
							</div>
						<div>
						{{end}}
					</td>
					</tr>
					<tr>
						<td>
							<div class="flex" style="margin-top: 2em;">
								年度总提交:{{$.MonthTotal}}
							</div>
						</td>
						
					</tr>
				</table>
			</div>
			</div>
		</div>
	</div>
</div>


  <!-- build:js ../assets/js/site.min.js -->
  <!-- jQuery -->
  <script src="static/libs/jquery/dist/jquery.min.js"></script>
  <!-- Bootstrap -->
  <script src="static/libs/popper.js/dist/umd/popper.min.js"></script>
  <script src="static/libs/bootstrap/dist/js/bootstrap.min.js"></script>
  <!-- ajax page -->
  <script src="static/libs/pace-progress/pace.min.js"></script>
  <script src="static/libs/pjax/pjax.js"></script>
  <script src="static/assets/js/ajax.js"></script>
  <!-- lazyload plugin -->
  <script src="static/assets/js/lazyload.config.js"></script>
  <script src="static/assets/js/lazyload.js"></script>
  <script src="static/assets/js/plugin.js"></script>
  <!-- theme -->
  <script src="static/assets/js/theme.js"></script>
  <!-- endbuild -->
</body>
</html>
